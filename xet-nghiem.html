<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8">
    <title>Trung Tâm Xét Nghiệm Y Khoa - Klinik</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="xet nghiem mau, tam soat ung thu, xet nghiem tai nha, nipt, adn" name="keywords">
    <meta content="Trung tâm Xét nghiệm Klinik đạt chuẩn ISO 15189 - Cung cấp dịch vụ xét nghiệm máu, tầm soát ung thư, sinh học phân tử với độ chính xác tuyệt đối." name="description">

    <link href="img/favicon.ico" rel="icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Roboto:wght@500;700;900&display=swap" rel="stylesheet"> 

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <style>
        /* CSS Nâng cao cho trang chi tiết */
        .detail-content p { text-align: justify; line-height: 1.8; color: #555; }
        
        /* Tab Navigation đẹp mắt */
        .nav-pills .nav-link {
            color: #555;
            background-color: #f8f9fa;
            margin-bottom: 5px;
            border-radius: 5px;
            text-align: left;
            padding: 15px;
            font-weight: 600;
            transition: 0.3s;
        }
        .nav-pills .nav-link.active {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
        }
        .nav-pills .nav-link i { width: 25px; }

        /* Service Box */
        .service-box {
            border: 1px solid #eee;
            padding: 20px;
            border-radius: 10px;
            transition: 0.3s;
            height: 100%;
            background: #fff;
        }
        .service-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            border-color: var(--primary);
        }
        
        /* List check */
        .check-list li {
            position: relative;
            padding-left: 25px;
            margin-bottom: 10px;
        }
        .check-list li::before {
            content: "\f00c";
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            position: absolute;
            left: 0;
            color: var(--primary);
        }
        
        /* Icon Box for Lab Process */
        .step-box {
            position: relative;
            z-index: 1;
        }
        .step-number {
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto 15px;
        }
    </style>
</head>

<body>
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only">Vui lòng chờ...</span>
        </div>
    </div>

    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top p-0 wow fadeIn" data-wow-delay="0.1s">
        <a href="index.html" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
            <h1 class="m-0 text-primary"><i class="far fa-hospital me-3"></i>Klinik</h1>
        </a>

        <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto p-4 p-lg-0">
                <a href="index.html" class="nav-item nav-link active">Trang chủ</a>
                <a href="about.html" class="nav-item nav-link">Về chúng tôi</a>
                <a href="service.html" class="nav-item nav-link">Dịch vụ</a>
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Trang</a>
                    <div class="dropdown-menu rounded-0 rounded-bottom m-0">
                        <a href="feature.html" class="dropdown-item">Tính năng</a>
                        <a href="team.html" class="dropdown-item">Bác sĩ</a>
                        <a href="testimonial.html" class="dropdown-item">Lời chứng thực</a>
                    </div>
                </div>
                <a href="contact.html" class="nav-item nav-link">Liên hệ</a>
            </div>

            <button id="openLoginBtn" class="btn btn-dark rounded-0 py-4 px-lg-4 d-none d-lg-block me-2" style="border: none;">
                <i class="fa fa-user me-2"></i> Đăng nhập
            </button>

            <a href="appointment.html" class="btn btn-primary rounded-0 py-4 px-lg-5 d-none d-lg-block">
                Cuộc hẹn<i class="fa fa-arrow-right ms-3"></i>
            </a>
        </div>
    </nav>
    <!-- Navbar End -->


    <!-- account start -->
     <div class="modal-overlay" id="mainModal">
        <div class="login-container">
            <span class="close-btn" id="closeModalBtn">&times;</span>

            <div id="loginForm">
                <h2>Đăng nhập</h2>
                <br>
                <div class="input-group">
                    <input type="text" id="loginPhone" placeholder="Nhập số điện thoại">
                </div>
                <div class="input-group">
                    <input type="password" id="loginPass" placeholder="Mật khẩu">
                </div>
                <div style="text-align: right; margin-bottom: 25px;">
                    <a href="#" id="linkToForgot" style="font-size: 13px; color: #1d4ed8; text-decoration: none;">Quên mật khẩu?</a>
                </div>
                <button class="btn-primary" id="btnLoginAction">Đăng nhập</button>
                <div class="register-section" style="margin-top: 20px;">
                    Chưa có tài khoản? <a href="#" id="linkToRegister">Đăng ký ngay</a>
                </div>
            </div>

            <div id="registerForm" class="hidden">
                <h2>Tạo tài khoản</h2>
                <p class="sub-text">Điền thông tin chính xác</p>
                <div class="input-group"><input type="text" id="regName" placeholder="Họ và tên đầy đủ"></div>
                <div class="input-group"><input type="text" id="regPhone" placeholder="Số điện thoại"></div>
                <div class="input-group"><input type="number" id="regCCCD" placeholder="Số CCCD/CMND"></div>
                <div class="input-group">
                    <label style="font-size: 12px; color: #666; display: block; text-align: left; margin-bottom: 5px; margin-left: 5px;">Ngày sinh:</label>
                    <input type="date" id="regDOB" style="color: #333;">
                </div>
                <div class="input-group"><input type="password" id="regPass" placeholder="Mật khẩu (tối thiểu 6 ký tự)"></div>
                <div class="input-group"><input type="password" id="regConfirmPass" placeholder="Nhập lại mật khẩu"></div>
                <button class="btn-primary" id="btnRegisterAction">Đăng ký</button>
                <div class="register-section" style="margin-top: 15px;">
                    Đã có tài khoản? <a href="#" id="linkToLoginFromRegister">Đăng nhập</a>
                </div>
            </div>

            <div id="forgotForm" class="hidden">
                <h2>Xác minh danh tính</h2>
                <div class="input-group"><input type="text" id="verifyName" placeholder="Họ và tên"></div>
                <div class="input-group"><input type="number" id="verifyCCCD" placeholder="Số CCCD"></div>
                <div class="input-group"><input type="date" id="verifyDOB"></div>
                <button class="btn-primary" id="btnCheckInfo">Kiểm tra thông tin</button>
                <div class="register-section"><a href="#" id="linkBackToLogin1">Quay lại đăng nhập</a></div>
            </div>

            <div id="newPassForm" class="hidden">
                <h2>Tạo mật khẩu mới</h2>
                <div class="input-group"><input type="password" id="newPassMain" placeholder="Mật khẩu mới"></div>
                <div class="input-group"><input type="password" id="newPassConfirm" placeholder="Nhập lại mật khẩu mới"></div>
                <button class="btn-primary" id="btnChangePass">Lưu mật khẩu</button>
            </div>
        </div>
    </div>
    <!-- account end -->


    <!-- menu account start -->
     <div class="modal-overlay" id="userMenuModal" style="z-index: 99999;">
    <div class="login-container" style="width: 380px; padding: 40px 30px;">
        <span class="close-btn" onclick="document.getElementById('userMenuModal').classList.remove('active')">&times;</span>
        
        <div class="text-center mb-4">
            <div style="width: 80px; height: 80px; background: #EFF5FF; color: #0463FA; font-size: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; border: 2px solid #0463FA;">
                <i class="fa fa-user"></i>
            </div>
            <h4 id="menuUserName" style="margin: 0; color: #1B2C51;">Xin chào!</h4>
            <p class="text-muted" style="font-size: 14px;">Thành viên thân thiết</p>
        </div>

        <div class="d-grid gap-3">
            <button onclick="openHistoryFromMenu()" class="btn btn-light py-3 text-start shadow-sm" style="border: 1px solid #eee; transition: 0.3s;">
                <i class="fa fa-history me-3 text-primary"></i> Xem Lịch sử Đặt hẹn
            </button>
            
            <button onclick="logout()" class="btn btn-light py-3 text-start shadow-sm" style="border: 1px solid #eee; color: #dc3545; transition: 0.3s;">
                <i class="fa fa-sign-out-alt me-3"></i> Đăng xuất tài khoản
            </button>
        </div>
    </div>
</div>
<!-- menu account end -->


<!-- appointment history start -->
     <div class="modal-overlay" id="historyModal" style="z-index: 99999;">
    <div class="login-container" style="width: 600px; max-width: 95%;">
        <span class="close-btn" onclick="document.getElementById('historyModal').classList.remove('active')">&times;</span>
        <h2 class="mb-4">Lịch sử khám bệnh</h2>
        <div style="max-height: 300px; overflow-y: auto; text-align: left;">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Ngày/Giờ</th>
                        <th>Bác sĩ</th>
                        <th>Trạng thái</th>
                    </tr>
                </thead>
                <tbody id="historyTableBody">
                    </tbody>
            </table>
            <p id="noHistoryMsg" class="text-center text-muted">Chưa có lịch sử đặt hẹn nào.</p>
        </div>
    </div>
</div>
<!-- appointment history end -->


<!-- Notification start -->
 <div class="modal-overlay" id="customAlertModal" style="z-index: 100000;">
    <div class="login-container" style="width: 400px; padding: 30px; text-align: center;">
        <div id="alertIconContainer" style="font-size: 50px; margin-bottom: 20px;">
            <i id="alertIcon" class="fa-solid fa-circle-exclamation text-danger"></i>
        </div>

        <h3 id="alertTitle" style="margin-bottom: 10px; color: #333;">Thông báo</h3>
        <p id="alertMessage" class="text-muted" style="margin-bottom: 25px; font-size: 16px;">Nội dung thông báo...</p>

        <button onclick="closeCustomAlert()" class="btn btn-primary w-100 py-2" style="border-radius: 50px; font-weight: bold;">
            Đã hiểu
        </button>
    </div>
</div>
 <!-- Notification end -->

    <div class="container-fluid page-header py-5 mb-5 wow fadeIn" data-wow-delay="0.1s" style="background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('img/header-page.jpeg') center center no-repeat; background-size: cover;">
        <div class="container py-5">
            <h1 class="display-3 text-white mb-3 animated slideInDown">Trung Tâm Xét Nghiệm</h1>
            <nav aria-label="breadcrumb animated slideInDown">
                <ol class="breadcrumb text-uppercase mb-0">
                    <li class="breadcrumb-item"><a class="text-white" href="index.html">Trang chủ</a></li>
                    <li class="breadcrumb-item"><a class="text-white" href="service.html">Dịch vụ</a></li>
                    <li class="breadcrumb-item text-primary active" aria-current="page">Xét nghiệm</li>
                </ol>
            </nav>
        </div>
    </div>

    <div class="container-xxl py-5">
        <div class="container">
            <div class="row g-5">
                <div class="col-lg-8 wow fadeInUp" data-wow-delay="0.1s">
                    
                    <div class="detail-content mb-5">
                        <img class="img-fluid rounded mb-4 w-100" src="img/lab-overview.jpg" alt="Phong xet nghiem Klinik" onerror="this.src='https://via.placeholder.com/800x450?text=Modern+Laboratory+Center'">
                        <h2 class="mb-3 text-primary">Tiêu chuẩn vàng trong chẩn đoán y khoa</h2>
                        <p class="lead fw-bold text-dark">"Xét nghiệm chính xác là nền tảng của mọi phác đồ điều trị hiệu quả."</p>
                        <p>Trung tâm Xét nghiệm <strong>Klinik</strong> vận hành theo tiêu chuẩn quốc tế <strong>ISO 15189:2012</strong>. Chúng tôi trang bị hệ thống máy phân tích tự động hoàn toàn (Total Laboratory Automation) từ các thương hiệu hàng đầu thế giới như Roche (Thụy Sĩ), Abbott (Mỹ) và Sysmex (Nhật Bản), đảm bảo kết quả nhanh chóng và độ chính xác lên tới 99.9%.</p>
                    </div>

                    <div class="mb-5">
                        <h3 class="mb-4 border-bottom pb-2">Danh mục xét nghiệm chuyên sâu</h3>
                        <div class="row g-4">
                            <div class="col-md-4">
                                <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                                    <button class="nav-link active" id="v-pills-general-tab" data-bs-toggle="pill" data-bs-target="#v-pills-general" type="button" role="tab"><i class="fa fa-flask me-2"></i>XN Tổng quát</button>
                                    <button class="nav-link" id="v-pills-cancer-tab" data-bs-toggle="pill" data-bs-target="#v-pills-cancer" type="button" role="tab"><i class="fa fa-dna me-2"></i>Tầm soát Ung thư</button>
                                    <button class="nav-link" id="v-pills-biomolecular-tab" data-bs-toggle="pill" data-bs-target="#v-pills-biomolecular" type="button" role="tab"><i class="fa fa-microscope me-2"></i>Sinh học phân tử</button>
                                    <button class="nav-link" id="v-pills-home-tab" data-bs-toggle="pill" data-bs-target="#v-pills-home" type="button" role="tab"><i class="fa fa-home me-2"></i>Lấy mẫu tại nhà</button>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="tab-content bg-light p-4 rounded h-100" id="v-pills-tabContent">
                                    <div class="tab-pane fade show active" id="v-pills-general" role="tabpanel">
                                        <h4 class="text-primary mb-3">Huyết học & Sinh hóa</h4>
                                        <p>Đánh giá sức khỏe tổng quát, phát hiện sớm các rối loạn chuyển hóa.</p>
                                        <ul class="check-list list-unstyled">
                                            <li><strong>Công thức máu (CBC):</strong> Phát hiện thiếu máu, nhiễm trùng, ung thư máu.</li>
                                            <li><strong>Đường huyết & HbA1c:</strong> Chẩn đoán và theo dõi bệnh tiểu đường.</li>
                                            <li><strong>Mỡ máu (Lipid):</strong> Cholesterol, Triglyceride (nguy cơ tim mạch).</li>
                                            <li><strong>Chức năng Gan - Thận:</strong> Men gan (AST, ALT), Ure, Creatinine.</li>
                                        </ul>
                                    </div>
                                    <div class="tab-pane fade" id="v-pills-cancer" role="tabpanel">
                                        <h4 class="text-primary mb-3">Dấu ấn Ung thư (Tumor Markers)</h4>
                                        <p>Xét nghiệm các chỉ số gợi ý nguy cơ ung thư (Cần kết hợp chẩn đoán hình ảnh).</p>
                                        <ul class="check-list list-unstyled">
                                            <li><strong>Tầm soát K Gan:</strong> Chỉ số AFP.</li>
                                            <li><strong>Tầm soát K Phổi:</strong> Chỉ số Cyfra 21-1.</li>
                                            <li><strong>Tầm soát K Tiêu hóa:</strong> Chỉ số CEA, CA 19-9.</li>
                                            <li><strong>Tầm soát K Vú & Buồng trứng:</strong> CA 15-3, CA 125.</li>
                                        </ul>
                                    </div>
                                    <div class="tab-pane fade" id="v-pills-biomolecular" role="tabpanel">
                                        <h4 class="text-primary mb-3">Xét nghiệm Gen & Virus</h4>
                                        <p>Phân tích sâu ở cấp độ DNA/RNA để chẩn đoán chính xác nguyên nhân.</p>
                                        <ul class="check-list list-unstyled">
                                            <li><strong>Định lượng Virus:</strong> Viêm gan B (HBV-DNA), Viêm gan C (HCV-RNA).</li>
                                            <li><strong>HPV Genotype:</strong> Tầm soát ung thư cổ tử cung.</li>
                                            <li><strong>NIPT:</strong> Sàng lọc trước sinh không xâm lấn (dị tật thai nhi).</li>
                                        </ul>
                                    </div>
                                    <div class="tab-pane fade" id="v-pills-home" role="tabpanel">
                                        <h4 class="text-primary mb-3">Dịch vụ Lấy mẫu tại nhà</h4>
                                        <p>Tiện lợi, an toàn, không cần chờ đợi tại bệnh viện.</p>
                                        <p>Kỹ thuật viên chuyên nghiệp sẽ đến tận nơi lấy mẫu. Kết quả được trả qua <strong>Email/Zalo</strong> hoặc <strong>App Klinik</strong> sau 2-4 giờ kèm theo tư vấn trực tiếp của bác sĩ.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-5">
                        <h3 class="mb-4 border-bottom pb-2">Công nghệ & Quy trình khép kín</h3>
                        <div class="row g-4">
                            <div class="col-md-6">
                                <div class="service-box">
                                    <div class="d-flex align-items-center mb-3">
                                        <i class="fa fa-robot fa-2x text-primary me-3"></i>
                                        <h5 class="mb-0">Hệ thống Automation</h5>
                                    </div>
                                    <p>Quy trình xét nghiệm tự động hoàn toàn từ khâu nhận mẫu đến trả kết quả, loại bỏ 99% sai sót do thao tác thủ công của con người.</p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="service-box">
                                    <div class="d-flex align-items-center mb-3">
                                        <i class="fa fa-barcode fa-2x text-primary me-3"></i>
                                        <h5 class="mb-0">Mã vạch Barcode</h5>
                                    </div>
                                    <p>Mỗi khách hàng có một mã định danh duy nhất (Barcode). Hệ thống quản lý LIS đảm bảo không bao giờ có sự nhầm lẫn mẫu xét nghiệm.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="alert alert-light border-start border-5 border-primary p-4 mb-5">
                        <h4 class="text-primary mb-3"><i class="fa fa-info-circle me-2"></i>Lưu ý quan trọng trước khi lấy mẫu</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <h6><i class="fa fa-utensils text-warning me-2"></i>Nhịn ăn:</h6>
                                <ul class="small mb-3">
                                    <li>Cần nhịn ăn ít nhất <strong>8-10 tiếng</strong> nếu xét nghiệm: Đường huyết, Mỡ máu, Chức năng gan.</li>
                                    <li>Chỉ nên uống nước lọc, tránh nước ngọt, cà phê, sữa.</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6><i class="fa fa-clock text-success me-2"></i>Thời điểm:</h6>
                                <ul class="small mb-0">
                                    <li>Tốt nhất nên lấy máu vào <strong>buổi sáng</strong>.</li>
                                    <li>Với xét nghiệm nước tiểu: Nên lấy dòng nước tiểu giữa, vệ sinh sạch sẽ trước khi lấy.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="mb-5">
                        <h3 class="mb-4 border-bottom pb-2">Bảng giá xét nghiệm lẻ (Tham khảo)</h3>
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered align-middle">
                                <thead class="bg-primary text-white text-center">
                                    <tr>
                                        <th>Tên xét nghiệm</th>
                                        <th>Ý nghĩa</th>
                                        <th>Giá (VNĐ)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Tổng phân tích tế bào máu</td>
                                        <td>Phát hiện thiếu máu, nhiễm trùng</td>
                                        <td class="text-end fw-bold">100.000</td>
                                    </tr>
                                    <tr>
                                        <td>Đường huyết (Glucose)</td>
                                        <td>Tầm soát bệnh tiểu đường</td>
                                        <td class="text-end fw-bold">50.000</td>
                                    </tr>
                                    <tr>
                                        <td>Bộ Mỡ máu (4 chỉ số)</td>
                                        <td>Cholesterol, Triglyceride...</td>
                                        <td class="text-end">250.000</td>
                                    </tr>
                                    <tr>
                                        <td>Chức năng Gan (AST/ALT)</td>
                                        <td>Kiểm tra tổn thương tế bào gan</td>
                                        <td class="text-end">120.000</td>
                                    </tr>
                                    <tr>
                                        <td>Tầm soát Ung thư (Marker)</td>
                                        <td>CEA, AFP, CA 15-3, PSA...</td>
                                        <td class="text-end">300.000 / chất</td>
                                    </tr>
                                    <tr>
                                        <td>Gói Tổng quát Cơ bản</td>
                                        <td>Gồm: Máu, Gan, Thận, Mỡ, Đường...</td>
                                        <td class="text-end fw-bold text-danger">1.200.000</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <small class="text-muted fst-italic">* Giá trên có thể thay đổi. Miễn phí lấy mẫu tại nhà cho hóa đơn trên 2 triệu đồng trong bán kính 5km.</small>
                    </div>

                    <h3 class="mb-4 border-bottom pb-2">Câu hỏi thường gặp</h3>
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faqHead1">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse1">
                                    Lấy máu xét nghiệm có đau không?
                                </button>
                            </h2>
                            <div id="faqCollapse1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Klinik sử dụng kim lấy máu chân không (Vacutainer) thế hệ mới nhất, giúp quá trình lấy máu diễn ra cực nhanh, giảm thiểu cảm giác đau và không gây vỡ hồng cầu, đảm bảo mẫu máu chất lượng nhất.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faqHead2">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse2">
                                    Bao lâu thì có kết quả xét nghiệm?
                                </button>
                            </h2>
                            <div id="faqCollapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Với các xét nghiệm thường quy (Máu, Gan, Thận...), kết quả có sau <strong>60-90 phút</strong>. Các xét nghiệm chuyên sâu (Miễn dịch, Ung thư) có thể mất 2-3 giờ. Kết quả sẽ được gửi tự động qua tin nhắn ngay khi hoàn tất.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="bg-light rounded p-4 mb-5 wow fadeInUp shadow-sm" data-wow-delay="0.5s">
                        <h4 class="mb-4 text-center text-primary">Đăng ký Lấy mẫu</h4>
                        <p class="text-center mb-4 small text-muted">Tại phòng khám hoặc Tại nhà</p>
                        <form id="appointmentForm">
                            <div class="row g-3">
                            <div class="col-12">
                                <input type="text" id="apptName" class="form-control border-0" placeholder="Tên của bạn" style="height: 55px;">
                            </div>
                            <div class="col-12">
                                <input type="text" id="apptPhone" class="form-control border-0" placeholder="Số điện thoại" style="height: 55px;">
                            </div>
                            <div class="col-12">
                                    <select class="form-select border-0 py-3">
                                        <option selected>Hình thức lấy mẫu</option>
                                        <option value="1">Tại Phòng khám Klinik</option>
                                        <option value="2">Tại nhà (Home Service)</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <select class="form-select border-0 py-3">
                                        <option selected>Gói quan tâm</option>
                                        <option value="1">Tổng quát định kỳ</option>
                                        <option value="2">Tầm soát ung thư</option>
                                        <option value="3">Xét nghiệm thai kỳ (NIPT)</option>
                                    </select>
                                </div>
                            <div class="col-12">
                                <select id="apptDoctor" class="form-select border-0" style="height: 55px;">
                                    <option selected value="">Chọn bác sĩ</option>
                                        <option value="Nguyễn Minh Hoàng">BS. Nguyễn Minh Hoàng</option>
                                        <option value="Trần Thu Hà">BS. Trần Thu Hà</option>
                                </select>
                            </div>
                            <div class="col-12 col-sm-6">
                                <div class="date" id="date" data-target-input="nearest">
                                    <input type="text" id="apptDate" class="form-control border-0 datetimepicker-input" placeholder="Chọn ngày" data-target="#date" data-toggle="datetimepicker" style="height: 55px;">
                                </div>
                            </div>
                            <div class="col-12 col-sm-6">
                                <div class="time" id="time" data-target-input="nearest">
                                    <input type="text" id="apptTime" class="form-control border-0 datetimepicker-input" placeholder="Chọn giờ" data-target="#time" data-toggle="datetimepicker" style="height: 55px;">
                                </div>
                            </div>
                            <div class="col-12">
                                    <button id="btnBookAppointment" type="button" class="btn btn-primary w-100 py-3">Đặt lịch hẹn</button>
                                </div>
                            </div>
                        </form>
                    </div>

                    <div class="mb-5 wow fadeInUp" data-wow-delay="0.1s">
                        <h4 class="mb-4 border-start border-5 border-primary ps-3">Phụ trách chuyên môn</h4>
                        <div class="d-flex align-items-center bg-white p-3 rounded mb-3 shadow-sm border">
                            <img class="img-fluid rounded-circle me-3" src="img/team-12.png" style="width: 60px; height: 60px; object-fit: cover;" alt="" onerror="this.src='https://via.placeholder.com/60'">
                            <div>
                                <h6 class="mb-1">TS. BS Ngọc Mai</h6>
                                <small class="text-muted d-block">Trưởng khoa Xét nghiệm</small>
                                <small class="text-primary"><i class="fa fa-star"></i> 20 năm kinh nghiệm</small>
                            </div>
                        </div>
                        <div class="bg-white p-3 rounded mb-3 shadow-sm border text-center">
                            <p class="mb-0 fst-italic">"Đội ngũ kỹ thuật viên được đào tạo bài bản, thao tác nhẹ nhàng, chính xác."</p>
                        </div>
                    </div>

                    <div class="mb-5 wow fadeInUp" data-wow-delay="0.1s">
                        <h4 class="mb-4 border-start border-5 border-primary ps-3">Liên kết lâm sàng</h4>
                        <div class="list-group list-group-flush">
                            <a href="tim-mach.html" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                Kiểm tra Mỡ máu & Tim mạch
                                <i class="fa fa-chevron-right text-muted small"></i>
                            </a>
                            <a href="phoi.html" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                Tầm soát Ung thư Phổi
                                <i class="fa fa-chevron-right text-muted small"></i>
                            </a>
                            <a href="nha-khoa.html" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                Xét nghiệm máu trước nhổ răng
                                <i class="fa fa-chevron-right text-muted small"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid bg-dark text-light footer mt-5 pt-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-3 col-md-6">
                    <h5 class="text-light mb-4">Địa chỉ</h5>
                    <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>Lê Văn Việt, TP.Thủ Đức</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>0985188888</p>
                    <p class="mb-2"><i class="fa fa-envelope me-3"></i>Klinik@gmail.com</p>
                    <div class="d-flex pt-2">
                        <a class="btn btn-outline-light btn-social rounded-circle" href=""><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-social rounded-circle" href=""><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h5 class="text-light mb-4">Dịch vụ</h5>
                    <a class="btn btn-link" href="tim-mach.html">Tim mạch</a>
                    <a class="btn btn-link" href="phoi.html">Phổi</a>
                    <a class="btn btn-link" href="than-kinh.html">Thần kinh học</a>
                    <a class="btn btn-link" href="chinh-hinh.html">Chỉnh hình</a>
                    <a class="btn btn-link" href="nha-khoa.html">Phẩu thuật nha khoa</a>
                    <a class="btn btn-link" href="xet-nghiem.html">Phòng thí nghiệm</a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h5 class="text-light mb-4">Liên kết</h5>
                    <a class="btn btn-link" href="about.html">Về chúng tôi</a>
                    <a class="btn btn-link" href="contact.html">Liên hệ</a>
                    <a class="btn btn-link" href="ho-tro.html">Hỗ trợ</a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h5 class="text-light mb-4">Đăng ký</h5>
                    <div class="position-relative mx-auto" style="max-width: 400px;">
                        <input class="form-control border-0 w-100 py-3 ps-4 pe-5" type="text" placeholder="Email của bạn">
                        <button type="button" class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2">Gửi</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="copyright">
                <div class="row">
                    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                        &copy; <a class="border-bottom" href="#">Klinik</a>, All Right Reserved.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded-circle back-to-top"><i class="bi bi-arrow-up"></i></a>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>
    <script src="js/main.js"></script>

           <!-- script account start -->
 <script>
    // === CẤU HÌNH CHUNG ===
    const modal = document.getElementById('mainModal');
    const historyModal = document.getElementById('historyModal');
    const openBtn = document.getElementById('openLoginBtn');
    const closeBtn = document.getElementById('closeModalBtn');
    
    const forms = {
        login: document.getElementById('loginForm'),
        register: document.getElementById('registerForm'),
        forgot: document.getElementById('forgotForm'),
        newPass: document.getElementById('newPassForm')
    };

    // === QUẢN LÝ DỮ LIỆU ===
    // 1. Danh sách tài khoản
    let users = JSON.parse(localStorage.getItem('DS_TAI_KHOAN')) || [];
    // 2. Danh sách lịch hẹn (Mới thêm)
    let appointments = JSON.parse(localStorage.getItem('DS_LICH_HEN')) || [];
    // 3. Phiên đăng nhập hiện tại (Để nhớ ai đang online)
    let currentUser = JSON.parse(localStorage.getItem('CURRENT_USER')) || null;

    function saveData() {
        localStorage.setItem('DS_TAI_KHOAN', JSON.stringify(users));
        localStorage.setItem('DS_LICH_HEN', JSON.stringify(appointments));
        localStorage.setItem('CURRENT_USER', JSON.stringify(currentUser));
    }

    // === CẬP NHẬT GIAO DIỆN KHI TẢI TRANG ===
    // --- CẬP NHẬT GIAO DIỆN  ---
    function updateUI() {
        if (currentUser) {
            // 1. Thay đổi nút bấm thành tên người dùng
            openBtn.innerHTML = `<i class="fa fa-user-circle me-2"></i> ${currentUser.name}`;
            openBtn.classList.replace('btn-dark', 'btn-outline-primary');
            openBtn.style.fontWeight = "bold";
            
            // 2. Khi bấm vào tên -> Mở Modal Menu đẹp (Không dùng confirm nữa)
            openBtn.onclick = () => {
                document.getElementById('menuUserName').innerText = `Xin chào, ${currentUser.name}!`;
                document.getElementById('userMenuModal').classList.add('active');
            };
        } else {
            // Trạng thái chưa đăng nhập
            openBtn.innerHTML = `<i class="fa fa-user me-2"></i> Đăng nhập`;
            openBtn.classList.replace('btn-outline-primary', 'btn-dark');
            openBtn.style.fontWeight = "normal";
            openBtn.onclick = () => { modal.classList.add('active'); showForm('login'); };
        }
    }
    // Chạy ngay khi load trang
    updateUI();

    // --- HÀM MỞ LỊCH SỬ TỪ MENU MỚI ---
    function openHistoryFromMenu() {
        // Đóng menu tài khoản trước
        document.getElementById('userMenuModal').classList.remove('active');
        // Mở bảng lịch sử
        showHistory();
    }

    // --- HÀM HIỂN THỊ THÔNG  ---
    function showCustomAlert(message, type = 'error') {
        const modal = document.getElementById('customAlertModal');
        const icon = document.getElementById('alertIcon');
        const title = document.getElementById('alertTitle');
        const msg = document.getElementById('alertMessage');

        // Cấu hình giao diện dựa trên loại thông báo (success / error)
        if (type === 'success') {
            icon.className = "fa-solid fa-circle-check text-success"; // Icon tích xanh
            title.innerText = "✅";
            title.style.color = "#198754";
        } else {
            icon.className = "fa-solid fa-circle-exclamation text-danger"; // Icon chấm than đỏ
            title.innerText = "⚠️";
            title.style.color = "#dc3545";
        }

        msg.innerText = message;
        modal.classList.add('active');
    }

    function closeCustomAlert() {
        document.getElementById('customAlertModal').classList.remove('active');
    }

    // --- HÀM ĐĂNG XUẤT ---
    function logout() {
        if(confirm("Bạn có chắc chắn muốn đăng xuất không?")) {
            currentUser = null;
            saveData();
            location.reload();
        }
    }
    // === CÁC HÀM LOGIN / REGISTER ===
    function showForm(name) { Object.values(forms).forEach(f => f.classList.add('hidden')); forms[name].classList.remove('hidden'); }
    if(closeBtn) closeBtn.onclick = () => modal.classList.remove('active');
    window.onclick = (e) => { if (e.target === modal) modal.classList.remove('active'); };

    // Chuyển đổi form
    document.getElementById('linkToRegister').onclick = (e) => { e.preventDefault(); showForm('register'); };
    document.getElementById('linkToLoginFromRegister').onclick = (e) => { e.preventDefault(); showForm('login'); };
    document.getElementById('linkToForgot').onclick = (e) => { e.preventDefault(); showForm('forgot'); };
    document.getElementById('linkBackToLogin1').onclick = (e) => { e.preventDefault(); showForm('login'); };

    // Xử lý Đăng ký
    document.getElementById('btnRegisterAction').onclick = () => {
    const name = document.getElementById('regName').value.trim();
    const phone = document.getElementById('regPhone').value.trim();
    const pass = document.getElementById('regPass').value;
    // Thêm 2 dòng này
    const cccd = document.getElementById('regCCCD').value.trim();
    const dob = document.getElementById('regDOB').value;
    
    // Check đủ dữ liệu
    if(!name || !phone || !pass || !cccd || !dob) { alert("Vui lòng điền đầy đủ thông tin!"); return; }
    if(users.find(u => u.phone === phone)) { alert("Số điện thoại này đã tồn tại!"); return; }

    // Lưu đủ 5 trường thông tin
    users.push({ name, phone, pass, cccd, dob });
    saveData();
    showCustomAlert("Đăng ký thành công! Vui lòng đăng nhập ngay.", "success");
    
    // Chuyển giao diện về form đăng nhập ngay lập tức
    showForm('login');
    
    // Tự động điền sđt vừa đăng ký vào ô đăng nhập cho tiện (tùy chọn)
    document.getElementById('loginPhone').value = phone;
};

    // Xử lý Đăng nhập
    document.getElementById('btnLoginAction').onclick = () => {
        const phone = document.getElementById('loginPhone').value.trim();
        const pass = document.getElementById('loginPass').value;
        
        // Tìm tài khoản trong danh sách
        const user = users.find(u => u.phone === phone && u.pass === pass);
        
        if(user) {
            currentUser = user; 
            saveData();
            
            // 1. Ẩn form đăng nhập ngay
            modal.classList.remove('active');
            
            // 2. Cập nhật tên người dùng lên menu
            updateUI();

            // 3. Hiện thông báo THÀNH CÔNG (Màu xanh)
            showCustomAlert("Đăng nhập thành công! Xin chào " + user.name, "success");

        } else {
            // 4. Hiện thông báo LỖI
            showCustomAlert("Sai số điện thoại hoặc mật khẩu!", "error");
        }
    };

    function logout() {
        currentUser = null;
        saveData();
        location.reload(); // Tải lại trang
    }

    // --- XỬ LÝ QUÊN MẬT KHẨU & ĐỔI MẬT KHẨU  ---
    // Biến tạm lưu user đang reset pass
    let userDangQuenMatKhau = null;

    // 1. Nút Kiểm tra thông tin (Ở Modal Quên mật khẩu)
    document.getElementById('btnCheckInfo').onclick = () => {
        // Lấy dữ liệu nhập
        const inputName = document.getElementById('verifyName').value.trim();
        const inputCCCD = document.getElementById('verifyCCCD').value.trim();
        const inputDOB = document.getElementById('verifyDOB').value;

        // Tìm user khớp thông tin
        const foundUser = users.find(user => 
            user.name === inputName && 
            user.cccd === inputCCCD && 
            user.dob === inputDOB
        );

        if (foundUser) {
            // Nếu đúng -> Lưu tạm -> Chuyển sang form đổi pass
            userDangQuenMatKhau = foundUser;
            showCustomAlert("Xác minh thành công! Vui lòng đặt mật khẩu mới.", "success");
            
            // Đợi user đọc thông báo xong mới chuyển form
            setTimeout(() => {
                closeCustomAlert();
                showForm('newPass'); 
            }, 1500);
        } else {
            showCustomAlert("Thông tin xác minh không chính xác!", "error");
        }
    };

    // 2. Nút Lưu mật khẩu mới (Ở Modal Mật khẩu mới)
    document.getElementById('btnChangePass').onclick = () => {
        const p1 = document.getElementById('newPassMain').value;
        const p2 = document.getElementById('newPassConfirm').value;

        if (p1.length < 6) { 
            showCustomAlert("Mật khẩu quá ngắn (tối thiểu 6 ký tự)!", "error"); 
            return; 
        }
        if (p1 !== p2) { 
            showCustomAlert("Hai mật khẩu không khớp nhau!", "error"); 
            return; 
        }

        if (userDangQuenMatKhau) {
            // Cập nhật mật khẩu mới cho user đó (vì là tham chiếu object nên mảng users cũng tự cập nhật)
            userDangQuenMatKhau.pass = p1; // Lưu ý: key là 'pass' hay 'password' tùy code cũ của bạn, ở đây mình dùng 'pass' theo code đăng ký ở trên
            
            // Lưu lại vào LocalStorage
            saveData();

            showCustomAlert("Đổi mật khẩu thành công! Vui lòng đăng nhập lại.", "success");
            
            // Reset biến tạm & Quay về login
            userDangQuenMatKhau = null;
            setTimeout(() => {
                closeCustomAlert();
                showForm('login');
            }, 1500);
        }
    };

    // --- ĐẶT LỊCH HẸN (ĐÃ NÂNG CẤP GIAO DIỆN THÔNG BÁO) ---
        document.getElementById('btnBookAppointment').onclick = () => {
            // 1. Kiểm tra đăng nhập
            if (!currentUser) {
                // Dùng thông báo mới thay vì alert
                showCustomAlert("Bạn cần ĐĂNG NHẬP để có thể đặt lịch hẹn!", "error");
                
                
                setTimeout(() => {
                    modal.classList.add('active'); 
                    showForm('login');
                }, 1500); // Delay 1.5s cho mượt
                return;
            }

            // 2. Lấy dữ liệu
            const pName = document.getElementById('apptName').value.trim();
            const pDoctor = document.getElementById('apptDoctor').value;
            const pDate = document.getElementById('apptDate').value;
            const pTime = document.getElementById('apptTime').value;

            // Kiểm tra dữ liệu trống
            if(!pName || !pDoctor || !pDate || !pTime) { 
                showCustomAlert("Vui lòng điền đầy đủ thông tin đặt hẹn!", "error"); 
                return; 
            }

            // 3. Lưu lịch
            appointments.push({
                userAccount: currentUser.phone, 
                patientName: pName,
                doctor: pDoctor,
                date: pDate,
                time: pTime,
                status: "Đã xác nhận"
            });
            saveData();
            
            // Thông báo thành công
            showCustomAlert("ĐẶT LỊCH THÀNH CÔNG!\nBạn có thể kiểm tra lại trong phần Lịch sử.", "success");
            
            // Reset form
            document.getElementById('appointmentForm').reset();
        };

    // === LOGIC XEM LỊCH SỬ ===
    function showHistory() {
        if(!currentUser) return;

        const tbody = document.getElementById('historyTableBody');
        const noMsg = document.getElementById('noHistoryMsg');
        tbody.innerHTML = ''; // Xóa cũ

        // Lọc lịch sử CỦA RIÊNG user hiện tại
        const myHistory = appointments.filter(app => app.userAccount === currentUser.phone);

        if (myHistory.length > 0) {
            noMsg.style.display = 'none';
            myHistory.forEach(item => {
                tbody.innerHTML += `
                    <tr>
                        <td>${item.time} <br> ${item.date}</td>
                        <td>${item.doctor}</td>
                        <td><span class="badge bg-success">${item.status}</span></td>
                    </tr>
                `;
            });
        } else {
            noMsg.style.display = 'block';
        }

        historyModal.classList.add('active');
    }
</script>
<!-- end account -->


</body>
</html>